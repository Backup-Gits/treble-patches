From f387a130cdc8ed3eb2d06e606ba6b2bae9846b2f Mon Sep 17 00:00:00 2001
From: Victor Bo <bvoid@yandex.ru>
Date: Sat, 7 Dec 2019 14:55:14 +0200
Subject: [PATCH 12/20] selinux: allow treble_app access to dt2w nodes

	new file:   sepolicy/xiaomi.te
---
 sepolicy/xiaomi.te | 7 +++++++
 1 file changed, 7 insertions(+)
 create mode 100644 sepolicy/xiaomi.te

diff --git a/sepolicy/xiaomi.te b/sepolicy/xiaomi.te
new file mode 100644
index 0000000..029309f
--- /dev/null
+++ b/sepolicy/xiaomi.te
@@ -0,0 +1,7 @@
+type sysfs_dt2w, file_type;
+
+# allow treble_app access to:
+#  /proc/tp_wakeup_gesture
+#  /proc/touchpanel/wakeup_gesture
+allow system_app proc:file rw_file_perms;
+allow system_app sysfs:file rw_file_perms;
-- 
2.17.1

