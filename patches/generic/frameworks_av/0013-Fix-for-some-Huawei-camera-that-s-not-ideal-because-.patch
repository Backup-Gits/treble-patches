From e38894cde5743711dc3bc7bb260532de47aa28c1 Mon Sep 17 00:00:00 2001
From: Pierre-Hugues Husson <phh@phh.me>
Date: Tue, 3 Dec 2019 14:04:17 +0100
Subject: [PATCH 13/23] Fix for some Huawei camera (that's not ideal because it
 is a revert, it needs to be further investigated and cleaned)

---
 services/camera/libcameraservice/CameraService.cpp | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

diff --git a/services/camera/libcameraservice/CameraService.cpp b/services/camera/libcameraservice/CameraService.cpp
index a92a63bb8..0c80e5145 100644
--- a/services/camera/libcameraservice/CameraService.cpp
+++ b/services/camera/libcameraservice/CameraService.cpp
@@ -16,7 +16,7 @@
 
 #define LOG_TAG "CameraService"
 #define ATRACE_TAG ATRACE_TAG_CAMERA
-//#define LOG_NDEBUG 0
+#define LOG_NDEBUG 0
 
 #include <algorithm>
 #include <climits>
@@ -232,9 +232,9 @@ status_t CameraService::enumerateProviders() {
             }
         }
 
-        if (getCameraState(id8) == nullptr) {
+        //if (getCameraState(id8) == nullptr) {
             onDeviceStatusChanged(id8, CameraDeviceStatus::PRESENT);
-        }
+        //}
     }
 
     return OK;
-- 
2.25.1

