From 81e573b0e1ee0a0dcc0d85672cf460fbca660b27 Mon Sep 17 00:00:00 2001
From: Victor Bo <bvoid@yandex.ru>
Date: Sat, 25 Apr 2020 06:12:55 +0300
Subject: [PATCH 5/6] add an option for bottom brightness slider

Change-Id: Ida1226af1e45e21538abf0b43c2c51c7716d33d7
---
 host/migration/src/LineageSettings.java       | 14 +++++++++++++
 .../lineageos/providers/LineageSettings.java  | 20 ++++++++++++++++++-
 2 files changed, 33 insertions(+), 1 deletion(-)

diff --git a/host/migration/src/LineageSettings.java b/host/migration/src/LineageSettings.java
index 3ba86a4d..4bbfbbd2 100644
--- a/host/migration/src/LineageSettings.java
+++ b/host/migration/src/LineageSettings.java
@@ -502,6 +502,12 @@ public final class LineageSettings {
          */
         public static final String QS_SHOW_BRIGHTNESS_SLIDER = "qs_show_brightness_slider";
 
+        /** Show the brightness slider at the bottom of quick settings panel.
+         *
+         * @hide
+         */
+        public static final String QS_BRIGHTNESS_POSITION_BOTTOM = "qs_brightness_position_bottom";
+
         /**
          * Whether to control brightness from status bar
          *
@@ -686,6 +692,7 @@ public final class LineageSettings {
                 LineageSettings.System.SHOW_ALARM_ICON,
                 LineageSettings.System.STATUS_BAR_IME_SWITCHER,
                 LineageSettings.System.QS_SHOW_BRIGHTNESS_SLIDER,
+                LineageSettings.System.QS_BRIGHTNESS_POSITION_BOTTOM,
                 LineageSettings.System.STATUS_BAR_BRIGHTNESS_CONTROL,
                 LineageSettings.System.VOLBTN_MUSIC_CONTROLS,
                 LineageSettings.System.SWAP_VOLUME_KEYS_ON_ROTATION,
@@ -792,6 +799,12 @@ public final class LineageSettings {
          */
         public static final String QS_SHOW_BRIGHTNESS_SLIDER = "qs_show_brightness_slider";
 
+        /**
+         * Show the brightness slider at the bottom of quick settings panel.
+         * @hide
+         */
+        public static final String QS_BRIGHTNESS_POSITION_BOTTOM = "qs_brightness_position_bottom";
+
         /**
          * List of QS tile names
          * @hide
@@ -985,6 +998,7 @@ public final class LineageSettings {
                 LineageSettings.Secure.POWER_MENU_ACTIONS,
                 LineageSettings.Secure.STATS_COLLECTION,
                 LineageSettings.Secure.QS_SHOW_BRIGHTNESS_SLIDER,
+                LineageSettings.Secure.QS_BRIGHTNESS_POSITION_BOTTOM,
                 LineageSettings.Secure.QS_TILES,
                 LineageSettings.Secure.QS_USE_MAIN_TILES,
                 LineageSettings.Secure.VOLUME_LINK_NOTIFICATION,
diff --git a/sdk/src/java/lineageos/providers/LineageSettings.java b/sdk/src/java/lineageos/providers/LineageSettings.java
index 755c6602..6cf20399 100644
--- a/sdk/src/java/lineageos/providers/LineageSettings.java
+++ b/sdk/src/java/lineageos/providers/LineageSettings.java
@@ -1752,6 +1752,16 @@ public final class LineageSettings {
         public static final Validator QS_SHOW_BRIGHTNESS_SLIDER_VALIDATOR =
                 new InclusiveIntegerRangeValidator(0, 2);
 
+        /**
+         * Show the brightness slider at the bottom of quick settings panel.
+         * 0 = 0ff, 1 = on
+         */
+        public static final String QS_BRIGHTNESS_POSITION_BOTTOM = "qs_brightness_position_bottom";
+
+        /** @hide */
+        public static final Validator QS_BRIGHTNESS_POSITION_BOTTOM_VALIDATOR =
+                sBooleanValidator;
+
         /**
          * Whether to control brightness from status bar
          * 0 = 0ff, 1 = on
@@ -2171,6 +2181,7 @@ public final class LineageSettings {
                 LineageSettings.System.SHOW_ALARM_ICON,
                 LineageSettings.System.STATUS_BAR_IME_SWITCHER,
                 LineageSettings.System.QS_SHOW_BRIGHTNESS_SLIDER,
+                LineageSettings.System.QS_BRIGHTNESS_POSITION_BOTTOM,
                 LineageSettings.System.STATUS_BAR_BRIGHTNESS_CONTROL,
                 LineageSettings.System.VOLBTN_MUSIC_CONTROLS,
                 LineageSettings.System.USE_EDGE_SERVICE_FOR_GESTURES,
@@ -2319,7 +2330,7 @@ public final class LineageSettings {
             VALIDATORS.put(STATUS_BAR_IME_SWITCHER, STATUS_BAR_IME_SWITCHER_VALIDATOR);
             VALIDATORS.put(STATUS_BAR_QUICK_QS_PULLDOWN,
                     STATUS_BAR_QUICK_QS_PULLDOWN_VALIDATOR);
-            VALIDATORS.put(QS_SHOW_BRIGHTNESS_SLIDER, QS_SHOW_BRIGHTNESS_SLIDER_VALIDATOR);
+            VALIDATORS.put(QS_BRIGHTNESS_POSITION_BOTTOM, QS_BRIGHTNESS_POSITION_BOTTOM_VALIDATOR);
             VALIDATORS.put(STATUS_BAR_BRIGHTNESS_CONTROL,
                     STATUS_BAR_BRIGHTNESS_CONTROL_VALIDATOR);
             VALIDATORS.put(VOLBTN_MUSIC_CONTROLS, VOLBTN_MUSIC_CONTROLS_VALIDATOR);
@@ -2829,6 +2840,12 @@ public final class LineageSettings {
          */
         public static final String QS_SHOW_BRIGHTNESS_SLIDER = "qs_show_brightness_slider";
 
+        /**
+         * Show the brightness slider at the bottom of quick settings panel.
+         * @hide
+         */
+        public static final String QS_BRIGHTNESS_POSITION_BOTTOM = "qs_brightness_position_bottom";
+
         /**
          * Whether to show the auto brightness icon in quick settings panel.
          * @hide
@@ -3199,6 +3216,7 @@ public final class LineageSettings {
                 LineageSettings.Secure.POWER_MENU_ACTIONS,
                 LineageSettings.Secure.STATS_COLLECTION,
                 LineageSettings.Secure.QS_SHOW_BRIGHTNESS_SLIDER,
+                LineageSettings.Secure.QS_BRIGHTNESS_POSITION_BOTTOM,
                 LineageSettings.Secure.NAVIGATION_RING_TARGETS[0],
                 LineageSettings.Secure.NAVIGATION_RING_TARGETS[1],
                 LineageSettings.Secure.NAVIGATION_RING_TARGETS[2],
-- 
2.25.1

